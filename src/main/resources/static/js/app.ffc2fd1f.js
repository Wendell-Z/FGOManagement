(function(e){function t(t){for(var o,s,i=t[0],u=t[1],l=t[2],c=0,f=[];c<i.length;c++)s=i[c],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);p&&p(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,s=1;s<r.length;s++){var u=r[s];0!==n[u]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var o={},n={app:0},a=[];function s(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"df69b514"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,o){r=n[e]=[t,o]}));t.push(r[2]=o);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=s(e);var l=new Error;a=function(t){u.onerror=u.onload=null,clearTimeout(c);var r=n[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,r[1](l)}n[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var p=l;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"05d1":function(e,t,r){"use strict";r("f7a8")},"56d7":function(e,t,r){"use strict";r.r(t);var o=r("2b0e"),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},a=[],s=(r("05d1"),r("2877")),i={},u=Object(s["a"])(i,n,a,!1,null,null,null),l=u.exports,c=r("8c4f"),p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"Login"},[t("h1",[e._v("登录")]),t("el-form",{ref:"loginForm",staticClass:"loginForm",attrs:{model:e.loginForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"account"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.loginForm.account,callback:function(t){e.$set(e.loginForm,"account",t)},expression:"loginForm.account"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"pass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.loginForm.pass,callback:function(t){e.$set(e.loginForm,"pass",t)},expression:"loginForm.pass"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("提交")]),t("el-button",{on:{click:function(t){return e.resetForm("loginForm")}}},[e._v("重置")])],1)],1)],1)},f=[],m=(r("d9e2"),{name:"Login",props:{},data(){var e=(e,t,r)=>{""===t?r(new Error("请输入用户名")):r()},t=(e,t,r)=>{""===t?r(new Error("请输入密码")):r()};return{loginForm:{account:"",pass:""},rules:{account:[{validator:e,trigger:"blur"}],pass:[{validator:t,trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate(e=>{if(!e)return this.$message.error("请检查用户名和密码！"),!1;this.loginRequest()})},resetForm(e){this.$refs[e].resetFields()},loginRequest(){const e=new FormData;e.append("account",this.loginForm.account),e.append("password",this.loginForm.pass),this.$http.post(this.$api.login,e).then(e=>{if("200"===e.code){const t=e.data,r=e.headers["user-session"];this.$storage.set("account",t.account),this.$storage.set("userName",t.userName),this.$storage.set("userRole",t.userRole),this.$storage.set("token",r),this.$message.success("登录成功！")}else this.$message.error(e.message)},e=>{this.$message.error(e.message)})}}}),d=m,g=Object(s["a"])(d,p,f,!1,null,"2176c763",null),h=g.exports,v=function(){var e=this;e._self._c;return e._m(0)},b=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"Register"},[t("h1",[e._v("注册")])])}],y={name:"Register",props:{}},w=y,F=Object(s["a"])(w,v,b,!1,null,"30303f8a",null),_=F.exports;o["default"].use(c["a"]);const $=[{path:"/",name:"Login",component:h},{path:"/register",name:"Register",component:_},{path:"/about",name:"About",component:()=>r.e("about").then(r.bind(null,"f820"))}],O=new c["a"]({routes:$});var j=O,x=r("5c96"),P=r.n(x),k=(r("0fae"),r("bc3a"));k["a"].defaults.baseURL="",k["a"].defaults.withCredentials=!0,k["a"].defaults.headers.post["Content-Type"]="multipart/form-data",k["a"].defaults.timeout=15e3;var S={post(e,t){return new Promise((r,o)=>{k["a"].post(e,t).then(e=>r(e.data)).catch(e=>o(e))})},get(e,t){return new Promise((r,o)=>{k["a"].get(e,{params:t}).then(e=>r(e.data)).catch(e=>o(e))})},delete(e,t){return new Promise((r,o)=>{k["a"].delete(e,{params:t}).then(e=>r(e.data)).catch(e=>o(e))})}},R={login:"/user/login"},C={set(e,t){localStorage.setItem(e,JSON.stringify(t))},get(e){return JSON.parse(localStorage.getItem(e))},remove(e){localStorage.removeItem(e)}},L=C;o["default"].prototype.$storage=L,o["default"].config.productionTip=!1,o["default"].use(P.a),o["default"].prototype.$http=S,o["default"].prototype.$api=R,new o["default"]({router:j,render:e=>e(l)}).$mount("#app")},f7a8:function(e,t,r){}});
//# sourceMappingURL=app.ffc2fd1f.js.map